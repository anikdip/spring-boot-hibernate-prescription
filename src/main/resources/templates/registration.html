<!DOCTYPE html>
<html dir="ltr" lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- Tell the browser to be responsive to screen width -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>User Add</title>
	<!-- Custom CSS -->
	<link th:href="@{/css/style.css}" rel="stylesheet">
	<!-- This page plugin CSS -->
	<link th:href="@{/css/dataTables.bootstrap4.css}" rel="stylesheet">
	<!-- Select2 CSS -->
	<link th:href="@{/css/select2.min.css}" rel="stylesheet">
	<!-- Font Awesome -->
	<link th:href="@{/css/fontawesome.min.css}" rel="stylesheet">

	<style>
		input, select, textarea {
			outline: 1px solid;
		}
	</style>
</head>
<body>
<!-- ============================================================== -->
<!-- Preloader - style you can find in spinners.css -->
<!-- ============================================================== -->
<div class="preloader">
	<div class="lds-ripple">
		<div class="lds-pos"></div>
		<div class="lds-pos"></div>
	</div>
</div>
<!-- ============================================================== -->
<!-- Main wrapper - style you can find in pages.scss -->
<!-- ============================================================== -->
<div id="main-wrapper">
	<!-- ============================================================== -->
	<!-- Topbar header - style you can find in pages.scss -->
	<!-- ============================================================== -->
	<div th:include="top_navigation"></div>
	<!-- ============================================================== -->
	<!-- ============================================================== -->
	<!-- Page wrapper  -->
	<!-- ============================================================== -->
	<div class="page-wrapper">
		<!-- Container fluid  -->
		<!-- ============================================================== -->
		<div class="container-fluid">
			<!-- ============================================================== -->
			<!-- Start Page Content -->
			<!-- ============================================================== -->
			<!-- File export -->
			<div class="row">
				<div class="col-12">
					<div class="card">
						<div class="card-body">
							<h4 class="card-title">Add User</h4>
							<form th:action="@{/registration}" th:object="${user}" method="post">

								<p class="error-message" th:if="${#fields.hasGlobalErrors()}"
								   th:each="error : ${#fields.errors('global')}" th:text="${error}">Validation
									error</p>

								<div class="form-group"
									 th:classappend="${#fields.hasErrors('firstName')}? 'has-error':''">
									<label for="firstName" class="control-label">First name</label> <input
										id="firstName" class="form-control" th:field="*{firstName}" />
									<p class="error-message"
									   th:each="error: ${#fields.errors('firstName')}"
									   th:text="${error}">Validation error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('lastName')}? 'has-error':''">
									<label for="lastName" class="control-label">Last name</label> <input
										id="lastName" class="form-control" th:field="*{lastName}" />
									<p class="error-message"
									   th:each="error : ${#fields.errors('lastName')}"
									   th:text="${error}">Validation error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('email')}? 'has-error':''">
									<label for="email" class="control-label">E-mail</label> <input
										id="email" class="form-control" th:field="*{email}" />
									<p class="error-message"
									   th:each="error : ${#fields.errors('email')}" th:text="${error}">Validation
										error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('confirmEmail')}? 'has-error':''">
									<label for="confirmEmail" class="control-label">Confirm
										e-mail</label> <input id="confirmEmail" class="form-control"
															  th:field="*{confirmEmail}" />
									<p class="error-message"
									   th:each="error : ${#fields.errors('confirmEmail')}"
									   th:text="${error}">Validation error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
									<label for="password" class="control-label">Password</label> <input
										id="password" class="form-control" type="password"
										th:field="*{password}" />
									<p class="error-message"
									   th:each="error : ${#fields.errors('password')}"
									   th:text="${error}">Validation error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('confirmPassword')}? 'has-error':''">
									<label for="confirmPassword" class="control-label">Confirm
										password</label> <input id="confirmPassword" class="form-control"
																type="password" th:field="*{confirmPassword}" />
									<p class="error-message"
									   th:each="error : ${#fields.errors('confirmPassword')}"
									   th:text="${error}">Validation error</p>
								</div>
								<div class="form-group"
									 th:classappend="${#fields.hasErrors('terms')}? 'has-error':''">
									<input id="terms" type="checkbox" th:field="*{terms}" /> Â  <label
										class="control-label" for="terms"> I agree with the <a
										href="#">terms and conditions</a> for Registration.
								</label>
									<p class="error-message"
									   th:each="error : ${#fields.errors('terms')}" th:text="${error}">Validation
										error</p>
								</div>
								<div class="form-group">
									<button type="submit" class="btn btn-success">Add</button>
								</div>

							</form>
						</div>
					</div>
				</div>
			</div>
			<!-- ============================================================== -->
			<!-- End PAge Content -->
			<!-- ============================================================== -->
			<!-- ============================================================== -->
			<!-- Right sidebar -->
			<!-- ============================================================== -->
			<!-- .right-sidebar -->
			<!-- ============================================================== -->
			<!-- End Right sidebar -->
			<!-- ============================================================== -->
		</div>
		<!-- ============================================================== -->
		<!-- End Container fluid  -->
		<!-- ============================================================== -->
		<!-- ============================================================== -->
		<!-- footer -->
		<!-- ============================================================== -->
		<footer class="footer text-center">
			Designed and Developed by Anik Mahamood
		</footer>
		<!-- ============================================================== -->
		<!-- End footer -->
		<!-- ============================================================== -->
	</div>
	<!-- ============================================================== -->
	<!-- End Page wrapper  -->
	<!-- ============================================================== -->
</div>
<!-- ============================================================== -->
<!-- End Wrapper -->
<!-- ============================================================== -->
<!-- All Jquery -->
<!-- ============================================================== -->
<script th:src="@{/js/jquery.min.js}"></script>
<!-- Bootstrap tether Core JavaScript -->
<script th:src="@{/js/popper.min.js}"></script>
<script th:src="@{/js/bootstrap4.min.js}"></script>
<!-- apps -->
<script th:src="@{/js/app.min.js}"></script>
<script th:src="@{/js/app.init.horizontal.js}"></script>
<script th:src="@{/js/app-style-switcher.horizontal.js}"></script>
<!-- slimscrollbar scrollbar JavaScript -->
<script th:src="@{/js/perfect-scrollbar.jquery.min.js}"></script>
<script th:src="@{/js/sparkline.js}"></script>
<!--Wave Effects -->
<script th:src="@{/js/waves.js}"></script>
<!--Menu sidebar -->
<script th:src="@{/js/sidebarmenu.js}"></script>
<!--Custom JavaScript -->
<script th:src="@{/js/custom.min.js}"></script>
<!-- Font Awesome -->
<script th:src="@{/js/fontawesome.min.js}"></script>
<!-- Select2 -->
<script th:src="@{/js/select2.full.min.js}"></script>
<script th:src="@{/js/select2.min.js}"></script>
<script th:src="@{/js/select2.init.js}"></script>
<!--This page JavaScript -->
<script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
    'use strict';
    window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
            form.addEventListener('submit', function(event) {
                if (form.checkValidity() === false) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    }, false);
})();

$(document).ready(function(){
    $("#schoolBoard").change(function(){
        var schoolBoardId = $("#schoolBoard").val();
        $.ajax({
            url:"getAllSchoolBySchoolBoard",
            type:"POST",
            data:"schoolBoardId="+schoolBoardId,
            success:function(result){
                var obj = JSON.parse( result );
                console.log(obj);
                $("#school").empty();
                var data="<option>--Select School--</option>";
                for(var i=0;i<obj.length;i++){
                    data=data+"<option value=\""+obj[i].id+"\">"+obj[i].school_name+"</option>";
                }
                $("#school").append(data);
                $("#school").prop("disabled", false);
            }
        });
    });
});
</script>
</body>
</html>